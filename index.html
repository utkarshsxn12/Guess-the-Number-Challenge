<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess The Number Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="bg-circle"></div>
    <div class="bg-circle"></div>
    <div class="bg-circle"></div>

    <div class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">
        <span id="themeIcon">ğŸŒ™</span>
    </div>

    <div class="info-toggle" onclick="toggleInfo()" title="How to Play & Scoring">
        <span>â„¹ï¸</span>
    </div>

    <!-- Info Modal -->
    <div class="info-modal" id="infoModal">
        <div class="info-content">
            <div class="info-close" onclick="toggleInfo()">âœ•</div>
            <h2>ğŸ“– How to Play</h2>
            <div class="info-section">
                <h3>ğŸ¯ Objective</h3>
                <p>Guess the secret number within the given range before time runs out!</p>
            </div>
            <div class="info-section">
                <h3>ğŸ® How to Play</h3>
                <ol>
                    <li>Select a difficulty level (Easy, Medium, or Hard)</li>
                    <li>Enter your guess in the input field</li>
                    <li>Submit your guess - you'll get hints if you're too high or too low</li>
                    <li>Keep guessing until you find the number or run out of attempts/time</li>
                </ol>
            </div>
            <div class="info-section">
                <h3>ğŸ’¯ Scoring System</h3>
                <div class="score-formula">
                    <strong>Score = (Remaining Attempts Ã— 100) + Remaining Time</strong>
                </div>
                <p><strong>Example:</strong> If you win with 3 attempts left and 25 seconds remaining:</p>
                <p class="score-example">Score = (3 Ã— 100) + 25 = <strong>325 points</strong></p>
                <p class="score-tip">ğŸ’¡ <strong>Tip:</strong> Guess faster and use fewer attempts to get a higher score!</p>
            </div>
            <div class="info-section">
                <h3>ğŸ† High Scores</h3>
                <p>Your best score for each difficulty is saved locally. Try to beat your own record!</p>
            </div>
        </div>
    </div>

    <div class="container" id="gameContainer">
        <h1>ğŸ¯ Guess The Number</h1>
        <p class="subtitle">Choose your difficulty and beat the clock!</p>

        <!-- Difficulty Selection -->
        <div class="difficulty-section" id="difficultySection">
            <div class="difficulty-title">Select Difficulty Level</div>
            <div class="difficulty-buttons">
                <div class="difficulty-btn easy" onclick="selectDifficulty('easy')">
                    <span class="diff-label">ğŸŸ¢ Easy</span>
                    <span class="diff-details">1-100 â€¢ 7 tries â€¢ 60s</span>
                </div>
                <div class="difficulty-btn medium" onclick="selectDifficulty('medium')">
                    <span class="diff-label">ğŸŸ¡ Medium</span>
                    <span class="diff-details">1-150 â€¢ 5 tries â€¢ 45s</span>
                </div>
                <div class="difficulty-btn hard" onclick="selectDifficulty('hard')">
                    <span class="diff-label">ğŸ”´ Hard</span>
                    <span class="diff-details">1-200 â€¢ 5 tries â€¢ 30s</span>
                </div>
            </div>
        </div>

        <!-- Game Section (hidden until difficulty selected) -->
        <div id="gameSection" style="display: none;">
            <div style="text-align: center;">
                <span class="difficulty-badge" id="difficultyBadge"></span>
            </div>

            <!-- High Score Display -->
            <div class="high-score-section">
                <div class="high-score-label">ğŸ† High Score</div>
                <div class="high-score-value" id="highScoreDisplay">0</div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 100%;"></div>
            </div>

            <div class="game-info">
                <div class="info-item">
                    <div class="info-label">Attempts Left</div>
                    <div class="info-value" id="attemptsLeft">5</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Range</div>
                    <div class="info-value" id="rangeDisplay">1-100</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Time</div>
                    <div class="info-value" id="timeLeft">45</div>
                </div>
            </div>

            <div class="guess-history" id="guessHistory" style="display: none;">
                <div class="guess-history-title">Your Guesses:</div>
                <div id="historyItems"></div>
            </div>

            <div class="input-group">
                <input type="number" inputmode="numeric" id="guessInput" placeholder="Enter your guess" min="1" max="100" autofocus>
            </div>

            <button id="guessBtn" onclick="makeGuess()">Submit Guess</button>

            <div id="hint" class="hint"></div>
        </div>

        <footer>Made by Utkarsh</footer>
    </div>

    <!-- Celebration Modal -->
    <div class="celebration-modal" id="celebrationModal">
        <div class="celebration-content" id="celebrationContent">
            <h2 id="modalTitle">ğŸ‰ YOU WON! ğŸ‰</h2>
            <p id="modalMessage">Congratulations!</p>
            <div id="newHighScoreMsg" class="new-high-score" style="display: none;">
                ğŸ† NEW HIGH SCORE! ğŸ†
            </div>
            <div class="celebration-stats">
                <div class="stat-item">ğŸ¯ Number: <strong id="winNumber"></strong></div>
                <div class="stat-item">ğŸ’¯ Score: <strong id="finalScore"></strong></div>
                <div class="stat-item" id="timeStatItem">â±ï¸ Time: <strong id="winTime"></strong>s</div>
                <div class="stat-item">ğŸ² Attempts: <strong id="winAttempts"></strong></div>
            </div>
            <button onclick="closeModalAndReset()">ğŸ® Play Again</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
